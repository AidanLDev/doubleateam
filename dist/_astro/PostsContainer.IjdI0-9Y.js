import{S as c}from"./index.5502f1bb.Bf2zKtlg.js";import{u as e,b as m}from"./jsxRuntime.module.BI5XKkHX.js";import{p as d,_ as u}from"./hooks.module.DDFUmT8W.js";import"./preact.module.DfrYbK_V.js";function h(t,i,l){let s=new Set([...i,void 0]);return t.listen((r,n,a)=>{s.has(a)&&l(r,n,a)})}function g({tag:t}){return e("div",{className:c.tag,children:e("span",{children:t})})}function p({slug:t,title:i,pubDate:l,heroImage:s,description:r,tags:n}){return e("div",{className:c.cardContainer,children:[e("div",{className:c.cardImage,children:e("img",{src:s,alt:i,height:"100%",width:"100%"})}),e("div",{className:c.cardContent,children:[e("h3",{children:e("a",{href:`/posts/${t}`,children:i})}),e("p",{children:r}),n&&n.length>0&&e("div",{className:c.tagContainer,children:n.map(a=>e(g,{tag:a}))}),e("small",{children:l})]})]})}function C(t,i={}){let[,l]=d({}),[s]=d(t.get());return u(()=>{s!==t.get()&&l({})},[]),u(()=>{let r,n,a,o=()=>{r||(r=1,n=setTimeout(()=>{r=void 0,l({})}))};return i.keys?a=h(t,i.keys,o):a=t.listen(o),()=>{a(),clearTimeout(n)}},[t,""+i.keys]),t.get()}function N({posts:t}){const i=C(m);return e("section",{class:"container my-12",children:e("ul",{class:"my-3",children:t.filter(l=>{if(i!==""){const{data:{title:s,tags:r}}=l;if(r&&r.length>0){for(let n=0;n<r.length;n++)if(r[n].toLowerCase().includes(i.toLowerCase()))return!0}return s.toLowerCase().includes(i.toLowerCase())}return!0}).map(l=>{const{slug:s,data:{title:r,pubDate:n,heroImage:a,description:o,tags:f}}=l;return e(p,{description:o,slug:s,title:r,pubDate:n,heroImage:a,tags:f})})})})}export{N as default};
