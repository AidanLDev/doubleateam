import{S as d}from"./index.05bcf68a.BqAhh9Ky.js";import{u as e,b as m}from"./jsxRuntime.module.C88wzqB_.js";import{d as o,y as u}from"./hooks.module.C1wFu9uq.js";import"./preact.module.B5PsXcXZ.js";function g(t,i,l){let s=new Set(i).add(void 0);return t.listen((r,n,a)=>{s.has(a)&&l(r,n,a)})}function p({tag:t}){return e("div",{className:d.tag,children:e("span",{children:t})})}function y({slug:t,title:i,pubDate:l,heroImage:s,description:r,tags:n,redirectLink:a}){return e("div",{className:d.cardContainer,children:[e("div",{className:d.cardImage,children:e("img",{src:s,alt:i,height:"100%",width:"100%"})}),e("div",{className:d.cardContent,children:[e("h3",{children:a?e("a",{href:a,target:"__blank",children:i}):e("a",{href:`/posts/${t}`,children:i})}),e("p",{children:r}),n&&n.length>0&&e("div",{className:d.tagContainer,children:n.map(c=>e(p,{tag:c}))}),e("small",{children:l})]})]})}function C(t,i={}){let[,l]=o({}),[s]=o(t.get());return u(()=>{s!==t.get()&&l({})},[]),u(()=>{let r,n,a,c=()=>{r||(r=1,n=setTimeout(()=>{r=void 0,l({})}))};return i.keys?a=g(t,i.keys,c):a=t.listen(c),()=>{a(),clearTimeout(n)}},[t,""+i.keys]),t.get()}function N({posts:t}){const i=C(m);return e("section",{class:"container my-12",children:e("ul",{class:"my-3",children:t.filter(l=>{if(i!==""){const{data:{title:s,tags:r}}=l;if(r&&r.length>0){for(let n=0;n<r.length;n++)if(r[n].toLowerCase().includes(i.toLowerCase()))return!0}return s.toLowerCase().includes(i.toLowerCase())}return!0}).map(l=>{const{slug:s,data:{title:r,pubDate:n,heroImage:a,description:c,tags:f,redirectLink:h}}=l;return e(y,{description:c,slug:s,title:r,pubDate:n,heroImage:a,tags:f,redirectLink:h})})})})}export{N as default};
