import{S as d}from"./index.05bcf68a.BqAhh9Ky.js";import{u as e,b as m}from"./jsxRuntime.module.C88wzqB_.js";import{d as o,y as u}from"./hooks.module.C1wFu9uq.js";import"./preact.module.B5PsXcXZ.js";function g(e,t,r){let i=new Set(t).add(void 0);return e.listen(((e,t,n)=>{i.has(n)&&r(e,t,n)}))}function p({tag:t}){return e("div",{className:d.tag,children:e("span",{children:t})})}function y({slug:t,title:r,pubDate:i,heroImage:n,description:a,tags:s,redirectLink:o}){return e("div",{className:d.cardContainer,children:[e("div",{className:d.cardImage,children:e("img",{src:n,alt:r,height:"100%",width:"100%"})}),e("div",{className:d.cardContent,children:[e("h3",{children:e("a",o?{href:o,target:"__blank",children:r}:{href:`/posts/${t}`,children:r})}),e("p",{children:a}),s&&s.length>0&&e("div",{className:d.tagContainer,children:s.map((t=>e(p,{tag:t})))}),e("small",{children:i})]})]})}function C(e,t={}){let[,r]=o({}),[i]=o(e.get());return u((()=>{i!==e.get()&&r({})}),[]),u((()=>{let i,n,a,s=()=>{i||(i=1,n=setTimeout((()=>{i=void 0,r({})})))};return a=t.keys?g(e,t.keys,s):e.listen(s),()=>{a(),clearTimeout(n)}}),[e,""+t.keys]),e.get()}function N({posts:t}){const r=C(m);return e("section",{class:"container my-12",children:e("ul",{class:"my-3",children:t.filter((e=>{if(""!==r){const{data:{title:t,tags:i}}=e;if(i&&i.length>0)for(let e=0;e<i.length;e++)if(i[e].toLowerCase().includes(r.toLowerCase()))return!0;return t.toLowerCase().includes(r.toLowerCase())}return!0})).map((t=>{const{slug:r,data:{title:i,pubDate:n,heroImage:a,description:s,tags:o,redirectLink:l}}=t;return e(y,{description:s,slug:r,title:i,pubDate:n,heroImage:a,tags:o,redirectLink:l})}))})})}export{N as default};