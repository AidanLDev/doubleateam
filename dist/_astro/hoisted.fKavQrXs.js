window.dataLayer=window.dataLayer||[];function k(...e){window.dataLayer.push(e)}k("js",new Date);k("config","G-YZQ2699YSL");let f=document.querySelectorAll(".modal"),h,u;const M=e=>[...e.querySelectorAll('a, button, input, textarea, select, details,[tabindex]:not([tabindex="-1"])')].filter(t=>!t.hasAttribute("disabled")),x=(e,t)=>{const o=M(t),n=o[0],r=o[o.length-1];document.activeElement===r&&e.key==="Tab"&&!e.shiftKey&&(e.preventDefault(),n.focus()),document.activeElement===n&&e.key==="Tab"&&e.shiftKey&&(e.preventDefault(),r.focus())},A=e=>{const t=e.querySelector("h3"),o=e.querySelector(".modal__inner");e.showModal(),t.focus(),h=new AbortController,u=new AbortController,document.addEventListener("keydown",n=>x(n,e),{signal:h.signal}),e.addEventListener("keydown",n=>{n.key==="Escape"&&g()},{signal:u.signal}),e.addEventListener("click",()=>{g()},{signal:u.signal}),o.addEventListener("click",n=>{n.stopPropagation()},{signal:u.signal})},g=()=>{f.forEach(e=>{const t=e.getAttribute("aria-labelledby");document.querySelector(`#${t}`).focus({preventScroll:!0}),e.close(),h?.abort(),u?.abort()})};f.forEach(e=>{const t=e.getAttribute("aria-labelledby"),o=e.querySelector(".modal__close button"),n=document.querySelector(`#${t}`);if(!n)throw new Error(`Trigger element not found. 

      Did you forget to add a trigger element with id: "${t}"?`);n.addEventListener("click",()=>A(e)),o.addEventListener("click",g)});window.close=g;document.addEventListener("astro:after-swap",()=>{f=document.querySelectorAll(".modal"),f.forEach(e=>{const t=e.getAttribute("aria-labelledby"),o=e.querySelector(".modal__close button"),n=document.querySelector(`#${t}`);if(!n)throw new Error(`Trigger element not found. 

      Did you forget to add a trigger element with id: "${t}"?`);n.addEventListener("click",()=>A(e)),o.addEventListener("click",g)})});const l=document.querySelector("#main-navigation"),m=l.querySelector("ul"),w=[...document.querySelectorAll(".has-dropdown button")],D=()=>{const e=l.querySelectorAll("nav > ul"),t=window.location.pathname;e.forEach(o=>{[...o.querySelectorAll('a:not([rel*="external"])')].forEach(r=>{(t.includes(r.pathname.replaceAll("/",""))&&r.textContent!=="Home"||r.textContent==="Home"&&t==="/")&&(r.classList.add("is-active"),r.setAttribute("aria-current","page"))})})},S=()=>{const e=l.getBoundingClientRect().width,t=document.querySelector(".desktop-menu").getBoundingClientRect().width,n=parseInt(t.toString())+300;n>=e?(l.classList.remove("is-desktop"),l.classList.add("is-mobile")):n<=e&&(l.classList.add("is-desktop"),l.classList.remove("is-mobile"))},C=e=>e.getBoundingClientRect().right>(window.innerWidth||document.documentElement.clientWidth),q=e=>{const t=e.parentNode.querySelector("ul");e.classList.add("show"),e.setAttribute("aria-expanded","true"),C(t)&&(t.style.left="auto")},b=e=>{e.classList.remove("show"),e.setAttribute("aria-expanded","false")},y=()=>{for(let e=0;e<w.length;e++)b(w[e])},I=e=>{e.target.getAttribute("aria-expanded")==="false"?(y(),q(e.target)):b(e.target)};m&&m.addEventListener("keydown",e=>{const t=e.target,o=t.closest("li"),n=[...m.querySelectorAll(".menu-item")],r=t.closest(".has-dropdown button"),d=t.closest(".has-dropdown li"),v=n.findIndex(c=>c===o),a=e.key;let s;if(a==="ArrowRight"&&(n.indexOf(o)===n.length-1?s=n[0]:s=n[v+1]),a==="ArrowLeft"&&(n.indexOf(o)===0?s=n[n.length-1]:s=n[v-1]),a==="Escape"&&(s=n[0]),r){const c=r.nextElementSibling.querySelector("li");a==="ArrowDown"&&(e.preventDefault(),q(r),s=c),a==="Escape"&&b(r)}if(d){const c=d.parentNode,i=[...c.querySelectorAll("li")],E=i.findIndex(L=>L===d);a==="ArrowDown"&&(e.preventDefault(),i.indexOf(d)===i.length-1?s=i[0]:s=i[E+1]),a==="ArrowUp"&&(e.preventDefault(),i.indexOf(d)===0?s=i[i.length-1]:s=i[E-1]),a==="Escape"&&(s=c.previousElementSibling.parentNode,y())}s&&s.querySelector("a, button, input").focus()});w&&w.forEach(e=>{e.addEventListener("click",I)});D();S();window.addEventListener("resize",S);window.addEventListener("click",e=>{const t=e.target;!t.hasAttribute("aria-haspopup")&&!t.classList.contains("submenu-item")&&y()});const p=document.querySelector(".responsive-toggle"),T=e=>{e.setAttribute("aria-expanded",!0),e.setAttribute("aria-label","Close menu navigation"),e.innerHTML='<svg width="20" height="20" aria-hidden="true" fill="var(--action-color)" xmlns="http://www.w3.org/2000/svg"><path d="M10 10 2 2m8 8 8 8m-8-8 8-8m-8 8-8 8" stroke="var(--action-color)" stroke-width="2.667" stroke-linecap="round" stroke-linejoin="round"/></svg>'},B=e=>{e.setAttribute("aria-expanded",!1),e.setAttribute("aria-label","Open menu navigation"),e.innerHTML='<svg width="26" height="21" aria-hidden="true" fill="var(--action-color)" xmlns="http://www.w3.org/2000/svg"><path d="M2 1.667h24m-24 8h24m-24 8h24" stroke="var(--action-color)" stroke-width="2.667" stroke-linecap="round" stroke-linejoin="round"/></svg>'};p.addEventListener("click",e=>{const t=document.querySelector(".mobile-menu");t.classList.toggle("show"),t.classList.contains("show")?T(p):B(p)});
