import{S as o}from"./index.05bcf68a.Bf2zKtlg.js";import{u as e,b as m}from"./jsxRuntime.module.DLzlL459.js";import{h as d,y as u}from"./hooks.module.CYQm0EAo.js";import"./preact.module.9bA1UASV.js";function g(t,i,a){let s=new Set([...i,void 0]);return t.listen((r,n,l)=>{s.has(l)&&a(r,n,l)})}function p({tag:t}){return e("div",{className:o.tag,children:e("span",{children:t})})}function y({slug:t,title:i,pubDate:a,heroImage:s,description:r,tags:n,redirectLink:l}){return e("div",{className:o.cardContainer,children:[e("div",{className:o.cardImage,children:e("img",{src:s,alt:i,height:"100%",width:"100%"})}),e("div",{className:o.cardContent,children:[e("h3",{children:l?e("a",{href:l,target:"__blank",children:i}):e("a",{href:`/posts/${t}`,children:i})}),e("p",{children:r}),n&&n.length>0&&e("div",{className:o.tagContainer,children:n.map(c=>e(p,{tag:c}))}),e("small",{children:a})]})]})}function C(t,i={}){let[,a]=d({}),[s]=d(t.get());return u(()=>{s!==t.get()&&a({})},[]),u(()=>{let r,n,l,c=()=>{r||(r=1,n=setTimeout(()=>{r=void 0,a({})}))};return i.keys?l=g(t,i.keys,c):l=t.listen(c),()=>{l(),clearTimeout(n)}},[t,""+i.keys]),t.get()}function N({posts:t}){const i=C(m);return e("section",{class:"container my-12",children:e("ul",{class:"my-3",children:t.filter(a=>{if(i!==""){const{data:{title:s,tags:r}}=a;if(r&&r.length>0){for(let n=0;n<r.length;n++)if(r[n].toLowerCase().includes(i.toLowerCase()))return!0}return s.toLowerCase().includes(i.toLowerCase())}return!0}).map(a=>{const{slug:s,data:{title:r,pubDate:n,heroImage:l,description:c,tags:f,redirectLink:h}}=a;return e(y,{description:c,slug:s,title:r,pubDate:n,heroImage:l,tags:f,redirectLink:h})})})})}export{N as default};
