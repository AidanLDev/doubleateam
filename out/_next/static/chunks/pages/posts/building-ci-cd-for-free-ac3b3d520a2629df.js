(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[632],{7061:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/building-ci-cd-for-free",function(){return n(254)}])},254:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return k}});var i=n(5893),t=(n(7294),n(8527)),s=n(958),o=n(8659),r=n(8558),l=n(7931),u=n(5345),c="/images/blog/ci-cd-pipeline/",d=(0,i.jsxs)(o.Z,{title:"Double A Team | Free CI/CD",description:"Building a free CI/CD pipeline using AWS S3 and CircleCI",postUrl:"building-ci-cd-for-free",children:[(0,i.jsx)(t.xv,{children:"CI/CD can speed up the process of updating websites. If you're going to be working on a website over the course of days, months and even years, you will spend a lot of time deploying changes you've made. This is where a CI/CD pipeline comes in. Push up changes to your GitHub and boom, those changes will be autoamtically deployed. No logging into and manually uploading your files to wherever they're being hosted from."}),(0,i.jsxs)(t.xv,{children:["This guide we will utalise a services.",(0,i.jsx)(l.Z,{items:[{text:"AWS S3"},{text:"GitHub"},{text:"CircleCI"}]})]}),(0,i.jsx)(t.X6,{children:"Setting up S3 bucket for static hosting"}),(0,i.jsxs)(t.xv,{children:["Head on over to the"," ",(0,i.jsx)(r.Z,{link:"https://eu-west-2.console.aws.amazon.com/console/home?region=eu-west-2",children:"AWS Console."})," ",'Search for the S3 service and hit create a new bucket. The bucket name should be the same as whatever domain, so if you owned the Google domain you would name it "google.com", and take a note of the region.',(0,i.jsx)(u.Z,{alt:"Creating an S3 bucket",src:"".concat(c,"create-s3-bucket.png")}),"Logically the region should be close to wherever the majority of users of your website are from to give a slightly better performance. You will also want to allow public access otherwise no one will be able to access your website:",(0,i.jsx)(u.Z,{alt:"Allowing public access",src:"".concat(c,"creating-bucket2.png")})]}),(0,i.jsx)(t.X6,{children:"Setting up IAM User"}),(0,i.jsx)(t.xv,{children:"While we have the AWS console open, let's head on over to IAM (Identidy and Access Management). We will want to give our CircleCI access to our S3 bucket so it can deploy our code to it later on down the line."}),(0,i.jsxs)(t.xv,{children:['Once in the IAM service, click on Users and then press the "Add Users" button. Give your user a name then make sure you select "Access key" for it\'s access type, this gives this user access to perform actions using the AWS CLI but not console access.',(0,i.jsx)(u.Z,{alt:"IAM user name",src:"".concat(c,"iam-user-name.png")}),'Now we want to add the S3 permissions to this user, you can write the policy yourself but to make things quicker and easier head on over to "Attatch existing policies directly" and serach for S3, I selected "AmazonS3FullAccess" to ensure they had the necessary permissions to do the job.',(0,i.jsx)(u.Z,{alt:"IAM user permissions",src:"".concat(c,"iam-permissions.png")}),'Go through the rest of the create user Wizard and when you have added the user make sure to save the "Access Key ID" and "Secret access key" somewhere safe. I like to use'," ",(0,i.jsx)(r.Z,{link:"https://www.lastpass.com/",children:"LastPass"})," to store my passwords as it works across all devices."]}),(0,i.jsx)(t.X6,{children:"Commit code to GitHub"}),(0,i.jsxs)(t.xv,{children:["If for whatever reason your code isn't on"," ",(0,i.jsx)(r.Z,{link:"https://github.com/",children:"GitHub"}),", create a repo and get it up there."]}),(0,i.jsx)(t.X6,{children:"Set-up CircleCI account"}),(0,i.jsxs)(t.xv,{children:["Open up ",(0,i.jsx)(r.Z,{link:"https://circleci.com/",children:"CircleCI"})," and create an account, I reccomend signing up using your GitHub accoutn as you're going to link it to your CircleCI account anyways. Once you're in and have your GitHub account connected, you should be able to see your Repos. Click the \"Set Up Project\" button next to the repo you want to make a CI/CD pipeline for.",(0,i.jsx)(u.Z,{alt:"CircleCI set up 1",src:"".concat(c,"circleci-setup-yml-file.png")}),'Choose Fast and then on the next screen select "Hello World", and just get through the rest of the initial start up by selecting "Use Existing Config" then "Start Building" as we now want to get into our Repo code and will start creating a config file to handle the CI pipeline.']}),(0,i.jsx)(t.X6,{children:"Adding .circleci config to your project"}),(0,i.jsxs)(t.xv,{children:["At the top level directory, create a new folder called"," ",(0,i.jsx)("code",{children:".circleci"})," and in that folder a file called"," ",(0,i.jsx)("code",{children:"config.yml"}),". In here you will want to add the following code:"]}),(0,i.jsx)(u.Z,{alt:"Code for our CI/CD pipeline",src:"".concat(c,"circleci-config.png")}),(0,i.jsx)(t.xv,{}),(0,i.jsxs)(t.xv,{children:["Swap out the following:",(0,i.jsx)(l.Z,{items:[{text:"S3 bucket url to be s3://yourbucketname"},{text:"from: . should be updated to the folder that holds the files you want to serve are such as dist, build, out etc."}]})]}),(0,i.jsxs)(t.xv,{children:["Push up those changes and watch the pipeline build on CircleCI! If all is well, then you should see the build go"," ",(0,i.jsx)("span",{style:{color:"green"},children:"Green"}),"."]}),(0,i.jsx)(t.X6,{children:"Debugging your pipeline"}),(0,i.jsx)(t.xv,{children:"Before successfully getting my pipeline up and running, I ran into a couple of errors, just in-case you hit the same ones I'll go through the error and my solution."}),(0,i.jsxs)(t.xv,{children:[(0,i.jsxs)("code",{children:["usage: aws s3 sync ","<LocalPath>"," ","<S3Uri>"," or ","<S3Uri>"," ","<LocalPath>"," or ","<S3Uri>"," ","<S3Uri>","Error: Invalid argument type"]}),"I had to update the ",(0,i.jsx)("code",{children:"to: 's3://your-bucket'"})," to match my bucket name, before I was putting in the actual S3 bucket URL."]}),(0,i.jsxs)(t.xv,{children:[(0,i.jsx)("code",{children:"The user-provided path ./out/* does not exist. Exited with code exit status 255"}),"I had to change two things in my repo for this one, first of all out was being exluded as it was included in the ",(0,i.jsx)("code",{children:".gitignore"})," file. And the path for the folder just needed to be the folder name ",(0,i.jsx)("code",{children:"out"})," ",'without the "./folderName/*"']}),(0,i.jsxs)(t.xv,{children:["I hope this was helpful and you managed to deploy a pipeline, if you have an issues please ",(0,i.jsx)(r.Z,{link:"/contact-us",children:"get in touch"})," ","and I will do what I can to help."]})]}),h=(0,i.jsxs)(o.Z,{title:"Double A Team | Free CI/CD",description:"Hosting situs web gratis dengan Netlify",postUrl:"building-ci-cd-for-free",children:[(0,i.jsx)(t.xv,{children:"CI/CD dapat mempercepat proses update website. Jika Anda akan menjadi bekerja di situs web selama berhari-hari, berbulan-bulan, dan bahkan bertahun-tahun, Anda akan menghabiskan banyak waktu untuk menerapkan perubahan yang Anda buat. Di sinilah Pipa CI/CD masuk. Dorong perubahan ke GitHub Anda dan boom, itu perubahan akan diterapkan secara otomatis. Tidak masuk dan secara manual mengunggah file Anda ke mana pun mereka dihosting."}),(0,i.jsxs)(t.xv,{children:["Panduan ini kami akan menggunakan layanan.",(0,i.jsx)(l.Z,{items:[{text:"AWS S3"},{text:"GitHub"},{text:"CircleCI"}]})]}),(0,i.jsx)(t.X6,{children:"Menyiapkan ember S3 untuk hosting statis"}),(0,i.jsxs)(t.xv,{children:["Pergilah ke"," ",(0,i.jsx)(r.Z,{link:"https://eu-west-2.console.aws.amazon.com/console/home?region=eu-west-2",children:"AWS Console."})," ",'Cari layanan S3 dan tekan buat ember baru. Nama ember harus sama dengan domain apa pun, jadi jika Anda memiliki domain Google Anda akan menamainya "google.com", dan catat wilayahnya.',(0,i.jsx)(u.Z,{alt:"Creating an S3 bucket",src:"".concat(c,"create-s3-bucket.png")}),"Logikanya wilayah tersebut harus dekat dengan tempat mayoritas pengguna situs web Anda untuk memberikan kinerja yang sedikit lebih baik. Kamu juga akan ingin mengizinkan akses publik jika tidak, tidak ada yang dapat mengakses . Anda situs web:",(0,i.jsx)(u.Z,{alt:"Allowing public access",src:"".concat(c,"creating-bucket2.png")})]}),(0,i.jsx)(t.X6,{children:"Menyiapkan Pengguna IAM"}),(0,i.jsx)(t.xv,{children:"Sementara kita membuka konsol AWS, mari kita menuju ke IAM (Identidy dan Manajemen Akses). Kami ingin memberikan akses CircleCI kami ke S3 kami ember sehingga dapat menyebarkan kode kita ke sana nanti."}),(0,i.jsxs)(t.xv,{children:['Setelah di layanan IAM, klik Pengguna lalu tekan tombol "Tambah Pengguna" tombol. Beri nama pengguna Anda lalu pastikan Anda memilih "Access key" untuk itu jenis akses, ini memberi pengguna ini akses untuk melakukan tindakan menggunakan AWS CLI tetapi bukan akses konsol.',(0,i.jsx)(u.Z,{alt:"IAM user name",src:"".concat(c,"iam-user-name.png")}),'Sekarang kami ingin menambahkan izin S3 ke pengguna ini, Anda dapat menulis kebijakan sendiri tetapi untuk membuat segalanya lebih cepat dan lebih mudah untuk "Lampirkan kebijakan yang ada secara langsung" dan pencarian untuk S3, saya memilih "AmazonS3FullAccess" untuk memastikan mereka memiliki izin yang diperlukan untuk melakukannya pekerjaan.',(0,i.jsx)(u.Z,{alt:"IAM user permissions",src:"".concat(c,"iam-permissions.png")}),'Telusuri sisa Wizard buat pengguna dan ketika Anda telah menambahkan pengguna pastikan untuk menyimpan "Access Key ID" dan "Secret access key" suatu tempat yang aman. Saya suka menggunakan'," ",(0,i.jsx)(r.Z,{link:"https://www.lastpass.com/",children:"LastPass"})," ke simpan kata sandi saya karena berfungsi di semua perangkat."]}),(0,i.jsx)(t.X6,{children:"Komit kode ke GitHub"}),(0,i.jsxs)(t.xv,{children:["Jika karena alasan apa pun kode Anda tidak aktif"," ",(0,i.jsx)(r.Z,{link:"https://github.com/",children:"GitHub"}),", membuat repo dan angkat di sana."]}),(0,i.jsx)(t.X6,{children:"Siapkan akun CircleCI"}),(0,i.jsxs)(t.xv,{children:["Buka ",(0,i.jsx)(r.Z,{link:"https://circleci.com/",children:"CircleCI"}),' dan buat akun, saya sarankan mendaftar menggunakan akun GitHub Anda sebagai Anda akan menautkannya ke akun CircleCI Anda. Setelah Anda masuk dan jika akun GitHub Anda terhubung, Anda seharusnya dapat melihat Repo. Klik tombol "Set Up Project" di sebelah repo yang ingin Anda buat pipa CI/CD untuk.',(0,i.jsx)(u.Z,{alt:"CircleCI set up 1",src:"".concat(c,"circleci-setup-yml-file.png")}),'Pilih Cepat lalu di layar berikutnya pilih "Halo Dunia", dan dapatkan melalui sisa start up awal dengan memilih "Gunakan Yang Ada Konfigurasi" lalu "Mulai Membangun" karena kami sekarang ingin masuk ke kode Repo kami dan akan mulai membuat file konfigurasi untuk menangani pipa CI.']}),(0,i.jsx)(t.X6,{children:"Menambahkan konfigurasi .circleci ke proyek Anda"}),(0,i.jsxs)(t.xv,{children:["Di direktori tingkat atas, buat folder baru bernama ",(0,i.jsx)("code",{children:".circleci"})," ","dan di folder itu ada file bernama ",(0,i.jsx)("code",{children:"config.yml"}),". Di sini Anda ingin menambahkan kode berikut::"]}),(0,i.jsx)(u.Z,{alt:"Code for our CI/CD pipeline",src:"".concat(c,"circleci-config.png")}),(0,i.jsx)(t.xv,{}),(0,i.jsxs)(t.xv,{children:["Tukar yang berikut ini:",(0,i.jsx)(l.Z,{items:[{text:"url ember S3 menjadi s3://yourbucketname"},{text:"from: . harus diperbarui ke folder yang menyimpan file yang ingin Anda sajikan seperti dist, build, out dll."}]})]}),(0,i.jsxs)(t.xv,{children:["Dorong perubahan itu dan saksikan pengembangan pipeline di CircleCI! Jika semuanya baik, maka Anda harus melihat build go"," ",(0,i.jsx)("span",{style:{color:"green"},children:"Green"}),"."]}),(0,i.jsx)(t.X6,{children:"Men-debug saluran Anda"}),(0,i.jsx)(t.xv,{children:"Before successfully getting my pipeline up and running, I ran into a couple of errors, just in-case you hit the same ones I'll go through the error and my solution."}),(0,i.jsxs)(t.xv,{children:[(0,i.jsxs)("code",{children:["usage: aws s3 sync ","<LocalPath>"," ","<S3Uri>"," or ","<S3Uri>"," ","<LocalPath>"," or ","<S3Uri>"," ","<S3Uri>","Error: Invalid argument type"]}),"Saya harus memperbarui ",(0,i.jsx)("code",{children:"ke: 's3://your-bucket'"})," agar sesuai dengan bucket saya name, sebelum saya memasukkan URL bucket S3 yang sebenarnya."]}),(0,i.jsxs)(t.xv,{children:[(0,i.jsx)("code",{children:"The user-provided path ./out/* does not exist. Exited with code exit status 255"}),"Saya harus mengubah dua hal dalam repo saya untuk yang ini, pertama-tama adalah dikecualikan karena disertakan dalam file ",(0,i.jsx)("code",{children:".gitignore"}),". Dan path untuk folder hanya perlu nama folder ",(0,i.jsx)("code",{children:"out"}),' tanpa "./folderName/*"']}),(0,i.jsxs)(t.xv,{children:["Saya harap ini membantu dan Anda berhasil menerapkan pipeline, jika ada masalah tolong ",(0,i.jsx)(r.Z,{link:"/contact-us",children:"berhubungan"})," dan saya akan melakukan apa yang saya bisa untuk membantu."]})]});function k(){return"Ind"===(0,s.Z)()?h:d}}},function(e){e.O(0,[445,617,13,874,426,938,842,230,774,888,179],(function(){return a=7061,e(e.s=a);var a}));var a=e.O();_N_E=a}]);